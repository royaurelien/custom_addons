<odoo>
  <data>
    <!-- explicit list view definition -->

    <record model="ir.ui.view" id="view_git_organization_tree">
      <field name="model">git.organization</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="service"/>
          <field name="auth_method"/>
        </tree>
      </field>
    </record>


    <record id="view_git_organization_form" model="ir.ui.view">
        <field name="model">git.organization</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button
                        name="action_sync_repository"
                        type="object"
                        string="Repositories Sync."
                        class="btn btn-default"
                        icon="fa-chevron-right"
                        attrs="{'invisible': [('is_synchronized', '!=', True)]}"
                        groups="base.group_erp_manager"
                    />
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button
                            type="action"
                            name="custom_addons.action_view_repository"
                            class="oe_stat_button"
                            icon="fa-folder-o">
                            <div class="o_stat_info">
                                <field name="repository_count" class="o_stat_value" />
                                <span> Repositories</span>
                            </div>
                        </button>
                    </div>

                    <div class="oe_title">
                        <h1>
                            <field name="name" />
                        </h1>
                        <h3 class="oe_fade">
                            <field name="service" class="oe_inline" />
                        </h3>
                    </div>
                    <div class="oe_clear" />
                    <group>
                      <group col="2">
                        <field name="repository_count" invisible="1"/>

                        <field name="url" widget="url"/>
                        <!-- <field name="service"/> -->
                        <field name="is_synchronized"/>


                      </group>
                      <group string="Authentication" col="2">
                        <field name="auth_method" string="Method" widget="selection_badge"/>
                        <field name="login"
                          attrs="{'required': [('auth_method', '=', 'basic')], 'invisible': [('auth_method', '!=', 'basic')]}"/>
                        <field name="password" password="true"
                          attrs="{'required': [('auth_method', '=', 'basic')], 'invisible': [('auth_method', '!=', 'basic')]}"/>
                        <field name="token"
                          attrs="{'required': [('auth_method', '=', 'token')], 'invisible': [('auth_method', '!=', 'token')]}"/>

                      </group>
                    </group>
                    <notebook>
                        <page name="extra_setting" string="Settings">
                            <group cols="4" string="Ignored Repositories">
                                <field
                                    name="exclude_names"
                                    colspan="4"
                                    nolabel="1"
                                />
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>



  </data>
</odoo>